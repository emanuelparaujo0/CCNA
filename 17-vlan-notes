What is a trunk port?
A trunk port carries multiple VLANs over a single link

What is the purpose of trunk ports?
Send multiple VLANs over a single interface

802.1q Encapsulation
Switches will 'tag' all frames thay they send over a trunk link.
This allows the receiving switch to know which VLAN the frame belongs to.


Trunk ports = 'tagged' ports
Access ports = 'untagged' ports

VLAN tagging
There are two main trunking protocols: ISL (Inter-Switch Link) and IEEE 802.1Q (dot1q) 
ISL is an old Cisco proprietary protocol created before the insdustry standard IEEE 802.1Q
For the CCNA and the real world, only 802.1Q is used.

The 802.1Q tag is inserted between the Source and Type/Length fields of the Ethernet frame.
The tag is 4 bytes (32 bits) in length 
The tag consists of two main fields:
 - Tag Protocol Identifier (TPID) - 16 bit
 - This field is always set to a value of 0x8100. This indicates that the frame is 802.1Q-tagged.

 - Tag Control Information (TCI)
   - The TCI consists of three sub-fields:
   - PCP - Priority code point, 3 bits in length, it is used for Class of Service (CoS), which prioritizes important
traffic in congested networks.
   - DEI - Drop Eligible Indicator, 1 bit in length, it is used to indicate frames that can be dropped if the network is congested.
   - VID - Vlan ID, 12 bits in length (4096), it identifies the VLAN the frame belongs to. (the most important field)
   - Both 0 and 4095 are reserved and can't be used, so the actual range of VLANs is 1 - 4094

VLAN ranges:
The range of VLANs (1 - 4094) is divided into two sections:
 - Normal VLANs: 1 - 1005
 - Extended VLANs: 1006 - 4094

Native VLAN
. 802.1Q has a feature called the native VLAN. (ISL does not have this feature)
. The native VLAN is VLAN 1 by default on all trunk ports, however this can be manually configured on each trunk port.
What the native VLAN DO?
 - The switch does not add an 802.1Q tag to frames in the native VLAN.
 - Wehen a switch receives an untagged frame on a trunk port, it assumes the frame belongs to the native VLAN.
  (It's very important that the native VLAN matches! - otherwise problems may arise)

How to configure trunk ports
interface g0/0
switchport mode trunk -> manually configure the interface as trunk
On older switches that support both ISL and 802.1Q, the encapsulation protocol must be specified first.
switchport trunk encapsulation {dot1q | isl | negotiate}
 
show interfaces trunk
switchport trunk allowed vlan 'vlans'

For security purposes, it is best to change the native VLAN to an UNUSED VLAN, make sure the antive VLAN matches on between switches.
switchport trunk native vlan 'vlan-number'

The show vlan brief command shows the access ports assigned to each VLAN, NOT the trunk ports that allow each VLAN.
Use the show interfaces trunk command instead to confirm trunk ports

"Router on a Stick" (ROAS) to allow inter-vlan routing
- ROAS is used to route between multiple VLANs using a single interface on the router and switch.
- The switch interface is configured as a regular trunk.
- The router interface is configured using subinterfaces. You configure the VLAN tag and IP address on each subinterface.
- The router will befave as if frames arriving with a certain VLAN tag have arrived on the subinterface configured with that VLAN tag.
- The router will tag frames sent out of each subinterface with the VLAN tag configured on the subinterface.

Sub interfaces on the router.
interface g0/0
no shutdown -> as router interfaces are disabled by default, enable it before the configuration
interface g0/0.10 -> create the subinterface, the subinterface number does not have to match the VLAN number. However
it is highly recommended that they do match, to make it easier to understand. 
encapsulation dot1q 10 -> enables the 802.1Q tagging protocol on the subinterface, assign VLAN 10 to the subinterface, coming and leaving packets
will use the vlan 10 in this subinterface.
ip address 192.168.1.62 255.255.255.192 -> assign the ip add to the subinterface
show ip interface brief -> list the interface and subinterfaces ip addresses.





